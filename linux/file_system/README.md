# 3. 파일 구조

## 1. 리눅스 파일이란?
- 유닉스 계열의 오픈소스 운영체제인 리눅스는 모든 것을 **파일**로 관리한다.
---
## 2. 리눅스 파일 종류
### 1. 일반 파일
- 데이터 저장에 사용되는 파일로, 리눅스 파일의 대부분이 속한다

### 2. 디렉토리 파일
- 디렉토리 또한 파일의 종류로, 해당 디렉토리에 저장된 정보와 하위 디렉토리 정보를 담는다

### 3. 링크 파일
- 원본 파일을 대신해 사용하기 위해 다른 파일명으로 링크된 파일을 말한다
- 윈도우에서의 바로가기 기능과 유사

### 4. 장치 파일
- 리눅스에서는 마우스와 같은 외부 장치도 파일로 관리된다
- 장치를 관리하는 파일

---
## 3. 디렉토리 구조

- 리눅스는 파일을 효율적으로 관리하기 위해 계층적인 구조(트리 구조)를 갖는다. 
- 모든 디렉토리의 최상위 디렉토리를 **루트 노드**라고 하며, `/` 라고 표시한다.

### 1. 주요 디렉토리
<img width="80%" src="http://www.blackmoreops.com/wp-content/uploads/2015/06/Linux-file-system-hierarchy-v2.0-2480px-blackMORE-Ops.png">

| 위치 | 이름 | 설명 |
| :---: | :---: | --- | 
| / | root | - 최상위 디렉토리 <br> - 절대 경로의 기준이 되는 디렉토리
| /root | | - 관리자 계정 root사용자의 홈 디렉토리
| /home |  | - 사용자의 홈 디렉토리 <br> - 사용자를 추가하면 사용자 id와 같은 디렉토리가 이곳에 생성
| /usr | user | - 일반 사용자들이 사용하는 디렉토리
| /lib | library | - 커널이 필요로 하는 라이브러리 파일,<br> 커널이 필요로 하는 모듈 파일이 있는 디렉토리
| /bin | binary | - 필수적인 command 파일을 저장하는 디렉토리 <br>- mv, cp, rm, cat, chmod, chown, ps과 같은 명령어가 이 디렉토리에 존재
| /sbin | system binary | - 시스템 바이너리 파일을 저장하는 디렉토리 <r>- 시스템 명령어(ifconfig, ethtool, e2fsck, halt, reboot, fdisk...)를 저장하고 있는 디렉토리 
| /boot |  | - 리눅스 부팅 관련 정보(커널 이미지, ...) 가 있는 디렉토리로, <br> 시스템 부딩 시 부트 로더가 찾는 곳
| /dev | device | - 시스템 디바이스 파일을 저장하는 디렉토리<br> - 물리적 장치가 파일화되어 저장
| /etc |  | - 시스템 환경 설정 파일이 있는 곳
| /tmp | temp | - 임시 파일 저장
| /opt | optional | - 추가 응용프로그램 패키지 설치 장소 <br> - 패키지 매니저가 자체적으로 설치/삭제 수행
| /var | variable data | - 가변 자료 저장 디렉토리 <br> - 시스템 로그 파일, 사용자 로그인 보안 기록, 데이터베이스 캐싱 파일,<br> 웹서버 이미지 파일 등이 위치하는 디렉토리 <br> -시스템 운영 중 시변경된 스템 자료 데이터를 저장하는 정소
| /sys | system | - 가상 파일 시스템 디렉토리
| /run |  | - run-time variable data 관리하는 디렉토리<br> - 부팅 후의 시스템 정보를 관리한다다
| /lost |  | - 휴지통
| /proc | process | - 프로세스 정보 등 커널 관련 정보 저장<br> 커널, 메모리 등 시스템 정보가 존재하는 가상 파일 시스템
| /media |  | - 외부 장치의 마운트 포인트로 사용되는 디렉토리(OS가 관리)
| /mmt | mount | - 사용자가 직접 마운팅하는 경로로 사용되는 디렉토리

> `/` VS `/root`
> - `/` 와 `/root` 디렉토리는 이름은 같지만 다른 디렉토리이다

> `bin` VS `sbin` 
> - bin`은 일반 및 root사용자들이 사용하고, `sbin`은 root 사용자에게 이용하도록 권장
> - 
  
  
> `/etc` 
> - `/etc/httpd` : 아파치 웹 서버의 설정, 로그 파일이 들어있다
> - `/etc/security`: 터미널 보안에 관련된 설정이 있다
> - `/etc/ssh`: secure shell 설정 파일이 있다
> - `/etc/sysconfig`: 시스템과 네트워크 설정 관련 파일이 있다

> `var` variable
> - 가변 자료 저장 디렉토리 
> - 시스템 로그 파일, 사용자 로그인 보안 기록, 데이터베이스 캐싱 파일,<br> 웹서버 이미지 파일 등이 위치하는 디렉토리
> - 시스템 운영 중 시변경된 스템 자료 데이터를 저장하는 정소
> - /var/cache: 어플리케이션의 캐시 데이터 저장
> - /var/lib: 어플리케이션/시스템 관련 상태 정보 수집
> - /var/local: /usr/local에 연결된 소프트웨어의 가변 정보를 포함한 ???????
> - /var/lock: lock file 존재 ??????
> - /var/opt: opt에 대한 가변 데이터
> - /var/run: 시스템 부팅 이후 runtime 가변 데이터
> - /var/spool: 어플리케이션 🔗:**spool**<sup id="a1">[1](#f1)</sup> 데이터 저장
> - /var/tmp: 시스템이 재부팅되는 동안 보존되는 임시 파일 저장
> - /var/log: 시스템 로그 정보 저장 파일
> - /var/named: 네임서버 설정 파일
  
> `/proc` process
> - 가상 파일 시스템(디스크에는 존재하지 않으므로 물리적 용량이 없다)
> - 커널이 메모리에 적재된 후에 생성되는 디렉토리(부팅 시 초기화)
> - 메모리에 존재하는 작업들이 파일 형태로 이곳에 저장된다
> - 각 프로세스는 자신만의 디렉토리를 /proc 아래에 갖고 있다<br>
> (이때 프로세스 식별 번호(Process Identification Number, PID)로 구분)<br>
> - `/proc/(PID)`: 해당 PID를 갖는 프로세스에 대한 정보가 있는 디렉토리
> - `/proc/cpuinfo`: 프로세서 정보 확인 
> - `/proc/devices`: 커널에 설정되어 있는 장치 목록 확인
> - `/proc/interrupts`: 현재 어느 인터럽트가 사용 중인지 확인
> - `/proc/meminfo`: 메모리 사용량 정보 확인
> - `/proc/stat`: 시스템 상태 정보 확인
> - `/proc/partition`: 파티션 분할 영역 정보 출력
> - `/proc/version`: 커널 버전 확인 

> - 리눅스 커널에서 직접 파일 시스템을 관리하는데, 이를 proc 파일 시스템이라고 한다
> - 이러한 proc 파일 시스템에 대한 정보는 /usr/src/linux/Documentation/proc.txt에서 확인할 수 있다

> `/lib` library
> - 프로그램이 의존하는 라이브러리 파일 존재
> - /lib/modules: 커널 모듈 파일 존재

<!--
### 파일 구조 관련 

### 파일 링크
- 하드 링크, 심볼릭(소프트) 링크

### 9. inode
- 리눅스/유닉스 파일 시스템에서 사용하는 자료구조
- 모든 파일/디렉토리는 하나의 inode를 갖는다
- 각 inode 안에는 파일의 소유권, 허가권, 파일 종류, 해당 파일의 주소 등이 있다
- inode가 모여있는 공간을 inode 블록이라 부른다 -->

---
<b id="f1">스폴(spool)</b><br>
  스폴(SPOOL, Simultaneous Peripheral Operation On-Line)은 대기열 관리 기법으로,<br>
  CPU와 주변장치의 처리 속도 차이에 따른 대기 시간을 줄이는 방식이다. <br>
  CPU의 처리 속도에 비해 입출력 장치의 처리 속도가 훨씬 느리다.<br>
  이때 컴퓨터와 입출력장치를 직접 연결하지 않고, 물리적인 중간 저장장치를 버퍼처럼 중간에 둔다.<br>
  스폴링(spooling)은 스폴을 적용하는 것을 의미하거나, 스폴을 위해 마련된 저장 공간을 채우는 동작을 말한다.
  [↩](#a1)
  




